"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const menu_1 = require("./view/menu");
const Inventory_1 = require("./model/Inventory");
const OrderController_1 = require("./controller/OrderController");
const SupplierController_1 = require("./controller/SupplierController");
const BaseController_1 = require("./controller/BaseController");
const InventoryController_1 = require("./controller/InventoryController");
const CustomerOrder_1 = require("./model/order/CustomerOrder");
const SupplierOrder_1 = require("./model/order/SupplierOrder");
const SupplierManager_1 = require("./model/SupplierManager");
const menu = new menu_1.Menu();
const inventory = new Inventory_1.Inventory();
const supplierManager = new SupplierManager_1.SupplierManager();
SupplierOrder_1.SupplierOrder.supplierManager = supplierManager;
const customerOrderController = new OrderController_1.OrderController(inventory, menu, CustomerOrder_1.CustomerOrder);
const supplierOrderController = new OrderController_1.OrderController(inventory, menu, SupplierOrder_1.SupplierOrder);
const supplierController = new SupplierController_1.SupplierController(menu, supplierManager, inventory);
const inventoryController = new InventoryController_1.InventoryController(menu, inventory);
supplierController.addNewAction("New Purchase Order", supplierOrderController.rootAction.bind(supplierOrderController));
const baseController = new BaseController_1.BaseController(menu);
baseController.addNewAction('Place Order', customerOrderController.rootAction.bind(customerOrderController));
baseController.addNewAction('Manage Suppliers', supplierController.rootAction.bind(supplierController));
baseController.addNewAction('Manage Inventory', inventoryController.rootAction.bind(inventoryController));
baseController.rootAction().then(() => menu.quit());
